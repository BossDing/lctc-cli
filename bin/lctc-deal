#!/usr/bin/env node

const program = require('commander');
const colors = require('colors');

const turnoff = require('../lib/turnoffus');
const monkeyuser = require("../lib/monkeyusercom");

program
  .usage('[url]')
  .action(url => {
    // 根据传入的 URL 判断使用哪个网站。
    // @todo： 后续考虑将站点文件移动到一个单独的目录下，这样可以在这里通过读取文件列表来实现
    // @todo: 后续考虑以更加优雅的实现来进行分发
    if (url.indexOf("turnoff.us") != -1) {
      turnoff.main(url);
    } else if (url.indexOf("monkeyuser") != -1) {
      monkeyuser.main(url);
    } else {
      console.log("This site is not support!".red);
    }
  });

program.on('--help', () => {
  console.log('  Examples:')
  console.log()
  console.log('    # To deal with http://www.turnoff.us/geek/terminal-password-typing/'.gray)
  console.log('    # Type the following command'.gray)
  console.log('    $ lctc deal ' + 'http://www.turnoff.us/geek/terminal-password-typing/'.white)
  console.log()
})

program.parse(process.argv);
if (!program.args.length) program.help();
